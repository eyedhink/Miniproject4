Microsoft Windows [Version 10.0.26100.6901]
(c) Microsoft Corporation. All rights reserved.

C:\Users\Taha>redis-cli monitor
OK
1761410147.753137 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:delayed" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410147" "-1"
1761410147.753356 [0 lua] "zrangebyscore" "laravel-database-queues:default:delayed" "-inf" "1761410147" "limit" "0" "-1"
1761410147.753950 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:reserved" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410147" "-1"
1761410147.754157 [0 lua] "zrangebyscore" "laravel-database-queues:default:reserved" "-inf" "1761410147" "limit" "0" "-1"
1761410147.754708 [0 127.0.0.1:61138] "EVAL" "-- Pop the first job off of the queue...\nlocal job = redis.call('lpop', KEYS[1])\nlocal reserved = false\n\nif(job ~= false) then\n    -- Increment the attempt count and place job on the reserved queue...\n    reserved = cjson.decode(job)\n    reserved['attempts'] = reserved['attempts'] + 1\n    reserved = cjson.encode(reserved)\n    redis.call('zadd', KEYS[2], ARGV[1], reserved)\n    redis.call('lpop', KEYS[3])\nend\n\nreturn {job, reserved}" "3" "laravel-database-queues:default" "laravel-database-queues:default:reserved" "laravel-database-queues:default:notify" "1761410237"
1761410147.754852 [0 lua] "lpop" "laravel-database-queues:default"
1761410150.772852 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:delayed" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410150" "-1"
1761410150.773096 [0 lua] "zrangebyscore" "laravel-database-queues:default:delayed" "-inf" "1761410150" "limit" "0" "-1"
1761410150.773536 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:reserved" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410150" "-1"
1761410150.773734 [0 lua] "zrangebyscore" "laravel-database-queues:default:reserved" "-inf" "1761410150" "limit" "0" "-1"
1761410150.774159 [0 127.0.0.1:61138] "EVAL" "-- Pop the first job off of the queue...\nlocal job = redis.call('lpop', KEYS[1])\nlocal reserved = false\n\nif(job ~= false) then\n    -- Increment the attempt count and place job on the reserved queue...\n    reserved = cjson.decode(job)\n    reserved['attempts'] = reserved['attempts'] + 1\n    reserved = cjson.encode(reserved)\n    redis.call('zadd', KEYS[2], ARGV[1], reserved)\n    redis.call('lpop', KEYS[3])\nend\n\nreturn {job, reserved}" "3" "laravel-database-queues:default" "laravel-database-queues:default:reserved" "laravel-database-queues:default:notify" "1761410240"
1761410150.774281 [0 lua] "lpop" "laravel-database-queues:default"
1761410153.784113 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:delayed" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410153" "-1"
1761410153.784341 [0 lua] "zrangebyscore" "laravel-database-queues:default:delayed" "-inf" "1761410153" "limit" "0" "-1"
1761410153.785007 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:reserved" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410153" "-1"
1761410153.785204 [0 lua] "zrangebyscore" "laravel-database-queues:default:reserved" "-inf" "1761410153" "limit" "0" "-1"
1761410153.785682 [0 127.0.0.1:61138] "EVAL" "-- Pop the first job off of the queue...\nlocal job = redis.call('lpop', KEYS[1])\nlocal reserved = false\n\nif(job ~= false) then\n    -- Increment the attempt count and place job on the reserved queue...\n    reserved = cjson.decode(job)\n    reserved['attempts'] = reserved['attempts'] + 1\n    reserved = cjson.encode(reserved)\n    redis.call('zadd', KEYS[2], ARGV[1], reserved)\n    redis.call('lpop', KEYS[3])\nend\n\nreturn {job, reserved}" "3" "laravel-database-queues:default" "laravel-database-queues:default:reserved" "laravel-database-queues:default:notify" "1761410243"
1761410153.785815 [0 lua] "lpop" "laravel-database-queues:default"
1761410155.390509 [0 127.0.0.1:61946] "CLIENT" "SETNAME" "predis"
1761410155.391392 [0 127.0.0.1:61946] "CLIENT" "SETINFO" "LIB-NAME" "predis"
1761410155.391681 [0 127.0.0.1:61946] "CLIENT" "SETINFO" "LIB-VER" "3.2.0"
1761410155.391953 [0 127.0.0.1:61946] "SELECT" "0"
1761410155.392314 [0 127.0.0.1:61946] "EVAL" "-- Push the job onto the queue...\nredis.call('rpush', KEYS[1], ARGV[1])\n-- Push a notification onto the \"notify\" queue...\nredis.call('rpush', KEYS[2], 1)" "2" "laravel-database-queues:default" "laravel-database-queues:default:notify" "{\"uuid\":\"ee4585c1-7516-4f7d-b5f7-1d64d083cf61\",\"displayName\":\"App\\\\Events\\\\TestEvent\",\"job\":\"Illuminate\\\\Queue\\\\CallQueuedHandler@call\",\"maxTries\":null,\"maxExceptions\":null,\"failOnTimeout\":false,\"backoff\":null,\"timeout\":null,\"retryUntil\":null,\"data\":{\"commandName\":\"Illuminate\\\\Broadcasting\\\\BroadcastEvent\",\"command\":\"O:38:\\\"Illuminate\\\\Broadcasting\\\\BroadcastEvent\\\":16:{s:5:\\\"event\\\";O:20:\\\"App\\\\Events\\\\TestEvent\\\":0:{}s:5:\\\"tries\\\";N;s:7:\\\"timeout\\\";N;s:7:\\\"backoff\\\";N;s:13:\\\"maxExceptions\\\";N;s:10:\\\"connection\\\";N;s:5:\\\"queue\\\";N;s:12:\\\"messageGroup\\\";N;s:12:\\\"deduplicator\\\";N;s:5:\\\"delay\\\";N;s:11:\\\"afterCommit\\\";N;s:10:\\\"middleware\\\";a:0:{}s:7:\\\"chained\\\";a:0:{}s:15:\\\"chainConnection\\\";N;s:10:\\\"chainQueue\\\";N;s:19:\\\"chainCatchCallbacks\\\";N;}\"},\"createdAt\":1761410155,\"id\":\"Rx4Z9dguWiCbsKjyoJUYTRhkiUDvpoGh\",\"attempts\":0,\"delay\":null}"
1761410155.392478 [0 lua] "rpush" "laravel-database-queues:default" "{\"uuid\":\"ee4585c1-7516-4f7d-b5f7-1d64d083cf61\",\"displayName\":\"App\\\\Events\\\\TestEvent\",\"job\":\"Illuminate\\\\Queue\\\\CallQueuedHandler@call\",\"maxTries\":null,\"maxExceptions\":null,\"failOnTimeout\":false,\"backoff\":null,\"timeout\":null,\"retryUntil\":null,\"data\":{\"commandName\":\"Illuminate\\\\Broadcasting\\\\BroadcastEvent\",\"command\":\"O:38:\\\"Illuminate\\\\Broadcasting\\\\BroadcastEvent\\\":16:{s:5:\\\"event\\\";O:20:\\\"App\\\\Events\\\\TestEvent\\\":0:{}s:5:\\\"tries\\\";N;s:7:\\\"timeout\\\";N;s:7:\\\"backoff\\\";N;s:13:\\\"maxExceptions\\\";N;s:10:\\\"connection\\\";N;s:5:\\\"queue\\\";N;s:12:\\\"messageGroup\\\";N;s:12:\\\"deduplicator\\\";N;s:5:\\\"delay\\\";N;s:11:\\\"afterCommit\\\";N;s:10:\\\"middleware\\\";a:0:{}s:7:\\\"chained\\\";a:0:{}s:15:\\\"chainConnection\\\";N;s:10:\\\"chainQueue\\\";N;s:19:\\\"chainCatchCallbacks\\\";N;}\"},\"createdAt\":1761410155,\"id\":\"Rx4Z9dguWiCbsKjyoJUYTRhkiUDvpoGh\",\"attempts\":0,\"delay\":null}"
1761410155.392596 [0 lua] "rpush" "laravel-database-queues:default:notify" "1"
1761410156.800367 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:delayed" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410156" "-1"
1761410156.800607 [0 lua] "zrangebyscore" "laravel-database-queues:default:delayed" "-inf" "1761410156" "limit" "0" "-1"
1761410156.801058 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:reserved" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410156" "-1"
1761410156.801248 [0 lua] "zrangebyscore" "laravel-database-queues:default:reserved" "-inf" "1761410156" "limit" "0" "-1"
1761410156.801614 [0 127.0.0.1:61138] "EVAL" "-- Pop the first job off of the queue...\nlocal job = redis.call('lpop', KEYS[1])\nlocal reserved = false\n\nif(job ~= false) then\n    -- Increment the attempt count and place job on the reserved queue...\n    reserved = cjson.decode(job)\n    reserved['attempts'] = reserved['attempts'] + 1\n    reserved = cjson.encode(reserved)\n    redis.call('zadd', KEYS[2], ARGV[1], reserved)\n    redis.call('lpop', KEYS[3])\nend\n\nreturn {job, reserved}" "3" "laravel-database-queues:default" "laravel-database-queues:default:reserved" "laravel-database-queues:default:notify" "1761410246"
1761410156.801734 [0 lua] "lpop" "laravel-database-queues:default"
1761410156.801806 [0 lua] "zadd" "laravel-database-queues:default:reserved" "1761410246" "{\"uuid\":\"ee4585c1-7516-4f7d-b5f7-1d64d083cf61\",\"timeout\":null,\"id\":\"Rx4Z9dguWiCbsKjyoJUYTRhkiUDvpoGh\",\"job\":\"Illuminate\\\\Queue\\\\CallQueuedHandler@call\",\"backoff\":null,\"displayName\":\"App\\\\Events\\\\TestEvent\",\"maxTries\":null,\"createdAt\":1761410155,\"failOnTimeout\":false,\"maxExceptions\":null,\"retryUntil\":null,\"data\":{\"command\":\"O:38:\\\"Illuminate\\\\Broadcasting\\\\BroadcastEvent\\\":16:{s:5:\\\"event\\\";O:20:\\\"App\\\\Events\\\\TestEvent\\\":0:{}s:5:\\\"tries\\\";N;s:7:\\\"timeout\\\";N;s:7:\\\"backoff\\\";N;s:13:\\\"maxExceptions\\\";N;s:10:\\\"connection\\\";N;s:5:\\\"queue\\\";N;s:12:\\\"messageGroup\\\";N;s:12:\\\"deduplicator\\\";N;s:5:\\\"delay\\\";N;s:11:\\\"afterCommit\\\";N;s:10:\\\"middleware\\\";a:0:{}s:7:\\\"chained\\\";a:0:{}s:15:\\\"chainConnection\\\";N;s:10:\\\"chainQueue\\\";N;s:19:\\\"chainCatchCallbacks\\\";N;}\",\"commandName\":\"Illuminate\\\\Broadcasting\\\\BroadcastEvent\"},\"delay\":null,\"attempts\":1}"
1761410156.801997 [0 lua] "lpop" "laravel-database-queues:default:notify"
1761410156.982233 [0 127.0.0.1:61138] "EVAL" "for i = 2, #ARGV do\n  redis.call('publish', ARGV[i], ARGV[1])\nend" "0" "{\"event\":\"TestEvent\",\"data\":{\"socket\":null},\"socket\":null}" "laravel-database-test-channel"
1761410156.982272 [0 lua] "publish" "laravel-database-test-channel" "{\"event\":\"TestEvent\",\"data\":{\"socket\":null},\"socket\":null}"
1761410156.983081 [0 127.0.0.1:61138] "ZREM" "laravel-database-queues:default:reserved" "{\"uuid\":\"ee4585c1-7516-4f7d-b5f7-1d64d083cf61\",\"timeout\":null,\"id\":\"Rx4Z9dguWiCbsKjyoJUYTRhkiUDvpoGh\",\"job\":\"Illuminate\\\\Queue\\\\CallQueuedHandler@call\",\"backoff\":null,\"displayName\":\"App\\\\Events\\\\TestEvent\",\"maxTries\":null,\"createdAt\":1761410155,\"failOnTimeout\":false,\"maxExceptions\":null,\"retryUntil\":null,\"data\":{\"command\":\"O:38:\\\"Illuminate\\\\Broadcasting\\\\BroadcastEvent\\\":16:{s:5:\\\"event\\\";O:20:\\\"App\\\\Events\\\\TestEvent\\\":0:{}s:5:\\\"tries\\\";N;s:7:\\\"timeout\\\";N;s:7:\\\"backoff\\\";N;s:13:\\\"maxExceptions\\\";N;s:10:\\\"connection\\\";N;s:5:\\\"queue\\\";N;s:12:\\\"messageGroup\\\";N;s:12:\\\"deduplicator\\\";N;s:5:\\\"delay\\\";N;s:11:\\\"afterCommit\\\";N;s:10:\\\"middleware\\\";a:0:{}s:7:\\\"chained\\\";a:0:{}s:15:\\\"chainConnection\\\";N;s:10:\\\"chainQueue\\\";N;s:19:\\\"chainCatchCallbacks\\\";N;}\",\"commandName\":\"Illuminate\\\\Broadcasting\\\\BroadcastEvent\"},\"delay\":null,\"attempts\":1}"
1761410157.144737 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:delayed" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410157" "-1"
1761410157.144885 [0 lua] "zrangebyscore" "laravel-database-queues:default:delayed" "-inf" "1761410157" "limit" "0" "-1"
1761410157.145202 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:reserved" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410157" "-1"
1761410157.145345 [0 lua] "zrangebyscore" "laravel-database-queues:default:reserved" "-inf" "1761410157" "limit" "0" "-1"
1761410157.145713 [0 127.0.0.1:61138] "EVAL" "-- Pop the first job off of the queue...\nlocal job = redis.call('lpop', KEYS[1])\nlocal reserved = false\n\nif(job ~= false) then\n    -- Increment the attempt count and place job on the reserved queue...\n    reserved = cjson.decode(job)\n    reserved['attempts'] = reserved['attempts'] + 1\n    reserved = cjson.encode(reserved)\n    redis.call('zadd', KEYS[2], ARGV[1], reserved)\n    redis.call('lpop', KEYS[3])\nend\n\nreturn {job, reserved}" "3" "laravel-database-queues:default" "laravel-database-queues:default:reserved" "laravel-database-queues:default:notify" "1761410247"
1761410157.145805 [0 lua] "lpop" "laravel-database-queues:default"
1761410160.152117 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:delayed" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410160" "-1"
1761410160.152359 [0 lua] "zrangebyscore" "laravel-database-queues:default:delayed" "-inf" "1761410160" "limit" "0" "-1"
1761410160.152738 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:reserved" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410160" "-1"
1761410160.152937 [0 lua] "zrangebyscore" "laravel-database-queues:default:reserved" "-inf" "1761410160" "limit" "0" "-1"
1761410160.154064 [0 127.0.0.1:61138] "EVAL" "-- Pop the first job off of the queue...\nlocal job = redis.call('lpop', KEYS[1])\nlocal reserved = false\n\nif(job ~= false) then\n    -- Increment the attempt count and place job on the reserved queue...\n    reserved = cjson.decode(job)\n    reserved['attempts'] = reserved['attempts'] + 1\n    reserved = cjson.encode(reserved)\n    redis.call('zadd', KEYS[2], ARGV[1], reserved)\n    redis.call('lpop', KEYS[3])\nend\n\nreturn {job, reserved}" "3" "laravel-database-queues:default" "laravel-database-queues:default:reserved" "laravel-database-queues:default:notify" "1761410250"
1761410160.154212 [0 lua] "lpop" "laravel-database-queues:default"
1761410163.163909 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:delayed" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410163" "-1"
1761410163.164082 [0 lua] "zrangebyscore" "laravel-database-queues:default:delayed" "-inf" "1761410163" "limit" "0" "-1"
1761410163.164588 [0 127.0.0.1:61138] "EVAL" "-- Get all of the jobs with an expired \"score\"...\nlocal val = redis.call('zrangebyscore', KEYS[1], '-inf', ARGV[1], 'limit', 0, ARGV[2])\n\n-- If we have values in the array, we will remove them from the first queue\n-- and add them onto the destination queue in chunks of 100, which moves\n-- all of the appropriate jobs onto the destination queue very safely.\nif(next(val) ~= nil) then\n    redis.call('zremrangebyrank', KEYS[1], 0, #val - 1)\n\n    for i = 1, #val, 100 do\n        redis.call('rpush', KEYS[2], unpack(val, i, math.min(i+99, #val)))\n        -- Push a notification for every job that was migrated...\n        for j = i, math.min(i+99, #val) do\n            redis.call('rpush', KEYS[3], 1)\n        end\n    end\nend\n\nreturn val" "3" "laravel-database-queues:default:reserved" "laravel-database-queues:default" "laravel-database-queues:default:notify" "1761410163" "-1"
1761410163.164754 [0 lua] "zrangebyscore" "laravel-database-queues:default:reserved" "-inf" "1761410163" "limit" "0" "-1"
1761410163.165297 [0 127.0.0.1:61138] "EVAL" "-- Pop the first job off of the queue...\nlocal job = redis.call('lpop', KEYS[1])\nlocal reserved = false\n\nif(job ~= false) then\n    -- Increment the attempt count and place job on the reserved queue...\n    reserved = cjson.decode(job)\n    reserved['attempts'] = reserved['attempts'] + 1\n    reserved = cjson.encode(reserved)\n    redis.call('zadd', KEYS[2], ARGV[1], reserved)\n    redis.call('lpop', KEYS[3])\nend\n\nreturn {job, reserved}" "3" "laravel-database-queues:default" "laravel-database-queues:default:reserved" "laravel-database-queues:default:notify" "1761410253"
1761410163.165386 [0 lua] "lpop" "laravel-database-queues:default"
